{
    "serviceId": "content.integrity.eval.v1",
    "serviceName": "Content Robustness and Integrity Evaluation Service",
    "description": "Synthetic evaluation suite that measures factual resilience and clarity under neutral, mechanical perturbations while enforcing ZERO-DRIFT governance.",
    "governance": {
        "protocolVersion": "DK-1.0",
        "privacyStandard": "MIAP (Mandatory Individual Agent Privacy)",
        "auditMandate": "Synthetic, aggregate metrics only. No individual agent state reporting.",
        "approvalQuorum": "Minimum 4-of-6 Council Members Required"
    },
    "logging": {
        "format": "jsonl",
        "retention_days": 90,
        "audit_log_uri": "ssot://ledger/content.integrity.eval.v1/",
        "fields": [
            "timestamp",
            "module_id",
            "metric_id",
            "value",
            "sha256_input"
        ]
    },
    "dk_1_0": {
        "drift_threshold": 0.0,
        "latency_variance_ms": 0.0002,
        "compliance": "zero_drift_enforced"
    },
    "miap": {
        "agent_scope": "synthetic_only",
        "aggregate_reporting": true
    },
    "input_profile": {
        "content_sources": {
            "identifiers": [
                "cie.v1.smoke",
                "cie.v1.edge",
                "cie.v1.adversarial"
            ],
            "registry": [
                "ssot://registry/truthful_inputs",
                "ssot://registry/trusted_uris"
            ]
        },
        "payload_formats": [
            "text",
            "json"
        ],
        "routing": {
            "text": [
                "synthetic.noise.injector.v1",
                "synthetic.contradiction.synth.v1"
            ],
            "json": [
                "synthetic.noise.injector.v1",
                "synthetic.contradiction.synth.v1"
            ]
        }
    },
    "ingressControls": {
        "artifact_hashing": "sha256",
        "approved_source_registry": [
            "ssot://registry/truthful_inputs",
            "ssot://registry/trusted_uris"
        ],
        "quorum_requirement": "council_4_of_6",
        "neutrality_scorecard_ref": "governance/scorecards/cie_v1_neutrality.md"
    },
    "validation": {
        "metrics": {
            "semantic_similarity": {
                "comprehension_loss_max": 0.15
            },
            "readability_delta": {
                "absolute_delta_max": 6.5
            },
            "citation_traceability": {
                "minimum_ratio": 0.9
            },
            "confidence_consistency": {
                "ratio_min": 0.9
            }
        },
        "neutrality": {
            "modules": [
                "synthetic.noise.injector.v1",
                "synthetic.contradiction.synth.v1"
            ],
            "enforcement": "zero_drift_suite",
            "attestation_artifact": "ledger://cie_v1/neutrality_receipts.jsonl"
        }
    },
    "modules": [
        {
            "moduleId": "synthetic.noise.injector.v1",
            "moduleAcronym": "SNI",
            "moduleDescription": "Applies statistically defined, reversible distortions (blur, token drop, translation cycles, synonym swap) to stress comprehension stability without directional drift.",
            "inputSchema": {
                "type": "object",
                "required": [
                    "source_claim",
                    "operations"
                ],
                "properties": {
                    "source_claim": {
                        "type": "string",
                        "description": "Factual or instructional text block under evaluation."
                    },
                    "operations": {
                        "type": "object",
                        "description": "Neutral noise controls scoped by ZERO-DRIFT limits.",
                        "properties": {
                            "ocr_blur": {
                                "type": "number",
                                "description": "Simulated OCR degradation rate (0.0 - 1.0).",
                                "minimum": 0.0,
                                "maximum": 1.0,
                                "default": 0.1
                            },
                            "token_drop": {
                                "type": "number",
                                "description": "Probability of dropping non-essential tokens (0.0 - 0.25).",
                                "minimum": 0.0,
                                "maximum": 0.25,
                                "default": 0.02
                            },
                            "translation_rounds": {
                                "type": "integer",
                                "description": "Sequential back-and-forth translation cycles to test context retention.",
                                "minimum": 0,
                                "maximum": 4,
                                "default": 2
                            },
                            "synonym_swap": {
                                "type": "number",
                                "description": "Probability of substituting low-frequency words with neutral synonyms (0.0 - 0.2).",
                                "minimum": 0.0,
                                "maximum": 0.2,
                                "default": 0.05
                            }
                        },
                        "additionalProperties": false
                    }
                },
                "additionalProperties": false
            },
            "outputMetrics": [
                {
                    "metricId": "semantic_similarity",
                    "unit": "cosine_score",
                    "description": "Semantic overlap between original and recovered claim (comprehension loss)."
                },
                {
                    "metricId": "readability_delta",
                    "unit": "Flesch_Kincaid_delta",
                    "description": "Change in readability after distortion and recovery."
                }
            ]
        },
        {
            "moduleId": "synthetic.contradiction.synth.v1",
            "moduleAcronym": "SCS",
            "moduleDescription": "Builds minimally divergent contradiction sets to verify logical consistency and sourcing discipline under MIAP constraints.",
            "inputSchema": {
                "type": "object",
                "required": [
                    "assertions",
                    "sources"
                ],
                "properties": {
                    "assertions": {
                        "type": "array",
                        "description": "List of factual or procedural assertions to probe for mutual exclusivity.",
                        "items": {
                            "type": "string"
                        },
                        "minItems": 1
                    },
                    "sources": {
                        "type": "array",
                        "description": "Authorized, trusted URIs backing the assertions.",
                        "items": {
                            "type": "string",
                            "format": "uri"
                        },
                        "minItems": 1,
                        "uniqueItems": true
                    }
                },
                "additionalProperties": false
            },
            "outputMetrics": [
                {
                    "metricId": "mutual_exclusivity",
                    "unit": "boolean",
                    "description": "Flags contradictory assertions that cannot co-exist."
                },
                {
                    "metricId": "confidence_consistency",
                    "unit": "ratio",
                    "description": "Confidence ratio between conflicting claims to track reasoning stability."
                },
                {
                    "metricId": "citation_traceability",
                    "unit": "percentage",
                    "description": "Share of assertions linked to verified sources."
                }
            ]
        }
    ]
}
