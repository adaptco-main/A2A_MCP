{{- if .Values.secrets.create }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "a2a-mcp.fullname" . }}-secret
  labels:
    app.kubernetes.io/name: {{ .Chart.Name | default "a2a-mcp" }}
    app.kubernetes.io/instance: {{ .Release.Name }}
type: Opaque
stringData:
  # OIDC token verification settings used by container env vars.
  OIDC_AUDIENCE: {{ .Values.secrets.oidcAudience | quote }}
  OIDC_ISSUER: {{ .Values.secrets.oidcIssuer | quote }}
  OIDC_JWKS_URL: {{ .Values.secrets.oidcJwksUri | quote }}

  # Avatar token keys used by container env vars.
  AVATAR_TOKEN_SIGNING_KEY: {{ .Values.secrets.avatarTokenSigningKey | quote }}
  AVATAR_TOKEN_VALIDATION_KEY: {{ .Values.secrets.avatarTokenValidationKey | quote }}
{{- end }}
